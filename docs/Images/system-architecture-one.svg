

<svg viewBox="0 0 900 850" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="450" y="30" text-anchor="middle" font-weight="bold" font-size="24">QR Code-Based Metro Ticketing System</text>
  <text x="450" y="60" text-anchor="middle" font-size="18">System Architecture</text>
  
  <!-- Presentation Layer -->
  <rect x="50" y="90" width="800" height="140" fill="#e6f3ff" stroke="#333" stroke-width="2" rx="5" />
  <text x="450" y="120" text-anchor="middle" font-weight="bold" font-size="16">Presentation Layer (Web)</text>

  <!-- User Area -->
  <rect x="70" y="135" width="220" height="80" fill="#fff" stroke="#333" rx="5" />
  <text x="180" y="160" text-anchor="middle" font-weight="bold">User Area</text>
  <text x="180" y="180" text-anchor="middle" font-size="12">- MyAccount</text>
  <text x="180" y="200" text-anchor="middle" font-size="12">- Ticket / Wallet</text>

  <!-- Admin Area -->
  <rect x="340" y="135" width="220" height="80" fill="#fff" stroke="#333" rx="5" />
  <text x="450" y="160" text-anchor="middle" font-weight="bold">Admin Area</text>
  <text x="450" y="180" text-anchor="middle" font-size="12">- Station Management</text>
  <text x="450" y="200" text-anchor="middle" font-size="12">- Fare / Settings</text>

  <!-- System Area -->
  <rect x="610" y="135" width="220" height="80" fill="#fff" stroke="#333" rx="5" />
  <text x="720" y="160" text-anchor="middle" font-weight="bold">System Area</text>
  <text x="720" y="180" text-anchor="middle" font-size="12">- Scanner Interface</text>
  <text x="720" y="200" text-anchor="middle" font-size="12">- Ticket Validation</text>

  <!-- Application Layer -->
  <rect x="50" y="250" width="800" height="120" fill="#e6aae6" stroke="#333" stroke-width="2" rx="5" />
  <text x="450" y="270" text-anchor="middle" font-weight="bold" font-size="16">Application Layer</text>

  <!-- Application Services -->
  <rect x="70" y="285" width="760" height="70" fill="#fff" stroke="#333" rx="5" />
  <text x="450" y="310" text-anchor="middle" font-weight="bold">Services</text>
  <text x="450" y="330" text-anchor="middle" font-size="12">UserService, AdminService, StationService, TicketService, QRCodeService, ScannerService, etc</text>

 <!-- Infrastructure Layer -->
  <rect x="50" y="390" width="800" height="120" fill="#e6ffe6" stroke="#333" stroke-width="2" rx="5" />
  <text x="450" y="410" text-anchor="middle" font-weight="bold" font-size="16">Infrastructure Layer</text>

  <!-- Infrastructure Implementation -->
  <rect x="70" y="425" width="760" height="70" fill="#fff" stroke="#333" rx="5" />
  <text x="450" y="450" text-anchor="middle" font-weight="bold">Implementation</text>
  <text x="450" y="470" text-anchor="middle" font-size="12">IUserService, IAdminService, IStationService, ITicketService, IQRCodeService, IScannerService, etc</text>

  
  <!-- Domain Layer -->
  <rect x="50" y="530" width="800" height="120" fill="#ffecb3" stroke="#333" stroke-width="2" rx="5" />
  <text x="450" y="550" text-anchor="middle" font-weight="bold" font-size="16">Domain Layer</text>

  <rect x="70" y="565" width="760" height="70" fill="#fff" stroke="#333" rx="5" />
  <text x="450" y="590" text-anchor="middle" font-weight="bold">Entities</text>
  <text x="450" y="610" text-anchor="middle" font-size="12"> User, Ticket, Station, Trip, Transaction, etc.</text>
  

  <!-- Data Access Layer -->
  <rect x="50" y="670" width="800" height="110" fill="#ffe6e6" stroke="#333" stroke-width="2" rx="5" />
  <text x="450" y="690" text-anchor="middle" font-weight="bold" font-size="16">Data Access Layer</text>
  
  <rect x="70" y="700" width="230" height="50" fill="#fff" stroke="#333" rx="5" />
  <text x="185" y="730" text-anchor="middle">Repository Pattern</text>
  
  <rect x="320" y="700" width="230" height="50" fill="#fff" stroke="#333" rx="5" />
  <text x="435" y="730" text-anchor="middle">Entity Framework Core</text>
  
  <rect x="570" y="700" width="230" height="50" fill="#fff" stroke="#333" rx="5" />
  <text x="685" y="730" text-anchor="middle">Database (SQL Server)</text>
  
  <!-- External Systems -->
  <rect x="175" y="800" width="550" height="40" fill="#f0f0f0" stroke="#333" stroke-width="2" rx="5" />
  <text x="450" y="820" text-anchor="middle" font-weight="bold">External Services (Payment Gateway, Email, etc.)</text>

  <!-- Arrows -->
  <line x1="450" y1="230" x2="450" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="450" y1="370" x2="450" y2="390" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="450" y1="510" x2="450" y2="530" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="450" y1="650" x2="450" y2="670" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="450" y1="780" x2="450" y2="800" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />

  <!-- Arrow definition -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#333" />
    </marker>
  </defs>
</svg>
